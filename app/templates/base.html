{% extends 'bootstrap/base.html' %}

{% block title %}
{% if title %}{{ title }} - YouBet{% else %}Welcome to YouBet{% endif %}
{% endblock %}


{% block scripts %}

{{ moment.include_moment() }}
{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{url_for('.static', filename='youbet.css')}}">
<script src="https://code.getmdl.io/1.3.0/material.min.js"></script>
<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
{% endblock %}


{% block body %}
<style>
    .demo-layout-transparent {
        background: url('../assets/demos/transparent.jpg') center / cover;
    }

    .demo-layout-transparent .mdl-layout__header,
    .demo-layout-transparent .mdl-layout__drawer-button {
        /* This background is dark, so we set text to white. Use 87% black instead if
           your background is light. */
        color: white;
    }
</style>

<div class="demo-layout-transparent mdl-layout mdl-js-layout">
    <header class="mdl-layout__header mdl-layout__header--transparent">
        <div class="mdl-layout__header-row">
            <!-- Title -->
            <span class="mdl-layout-title">
                {% if title %}YouBet - {{ title }}{% else %}Welcome to YouBet{% endif %}
            </span>
            <!-- Add spacer, to align navigation to the right -->
            <div class="mdl-layout-spacer"></div>
            <!-- Navigation -->
            <nav class="mdl-navigation">
                {% if current_user.is_anonymous %}
                <a class="mdl-navigation__link" href="{{ url_for('login') }}">Login</a>
                {% else %}

                <a class="mdl-navigation__link material-icons" style="font-size: 36px"
                   href="{{ url_for('user', username=current_user.username) }}">account_circle</a>
                {% endif %}
            </nav>
        </div>
    </header>
    <div class="mdl-layout__drawer">
        <span class="mdl-layout-title">YouBet</span>
        <nav class="mdl-navigation">
            <a class="mdl-navigation__link" href="{{ url_for('index') }}">
                <i class="material-icons">list</i>
                Bets
            </a>
            <a class="mdl-navigation__link" href="{{ url_for('shop') }}">
                <i class="material-icons">payment</i>
                Deposit
            </a>
            <a class="mdl-navigation__link" href="{{ url_for('event') }}">
                <i class="material-icons">account_balance</i>
                Upcoming
            </a>
        </nav>
    </div>
    <main class="mdl-layout__content">


        {% with messages = get_flashed_messages() %}
        {% if messages %}

        <div id="message-toast" class="mdl-js-snackbar mdl-snackbar">
            <div class="mdl-snackbar__text"></div>
            <button class="mdl-snackbar__action" type="button"></button>
        </div>

        <script>
            (function () {
                'use strict';
                window['counter'] = 0;
                var snackbarContainer = document.querySelector('#message-toast');
                window.onload = function () {
                    'use strict';
                    let message = '{% for message in messages %}{{ message }}{% endfor %}';
                    const data = {message: message};
                    snackbarContainer.MaterialSnackbar.showSnackbar(data);
                }
            }());
        </script>

        {% endif %}
        {% endwith %}
        {% block app_content %}{% endblock %}
    </main>
</div>
{% endblock %}


